(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),l=n(69),i=n(9),c=n(10),u=n(12),s=n(11),h=n(13),m=n(68),p=n(70),d=function(){return r.a.createElement("div",null,"Welcome to the WebApp")},g=n(14),f=n(16),E=function(e){var t="https://guarded-sands-18679.herokuapp.com/api/auth";return r.a.createElement(a.Fragment,null,r.a.createElement(f.FacebookLoginButton,{onClick:function(){return window.location.href="".concat(t,"/facebook")}},r.a.createElement("span",null,e.action," with Facebook")),r.a.createElement(f.GoogleLoginButton,{onClick:function(){return window.location.href="".concat(t,"/google")}},r.a.createElement("span",null,e.action," with Google")),r.a.createElement(f.GithubLoginButton,{onClick:function(){return window.location.href="".concat(t,"/github")}},r.a.createElement("span",null,e.action," with Github")))},b=n(7),y=n.n(b);y.a.defaults.withCredentials=!0;var v="https://guarded-sands-18679.herokuapp.com/api",w={email:"",password:""},j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state=w,n.handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),y.a.post("".concat(v,"/login"),n.state).then(function(e){return n.setState(w)}).then(function(){return n.props.history.push("/users")}).catch(function(e){return console.error(e)})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(e){var t=this.state,n=t.email,a=t.password;return r.a.createElement("div",{className:"Signin"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{display:"flex",flexDirection:"column",width:"250px"}},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{name:"email",type:"email",placeholder:"Enter email",value:n,onChange:this.handleInputChange,style:{marginBottom:10,height:20}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{name:"password",type:"password",placeholder:"Enter password",value:a,onChange:this.handleInputChange,style:{marginBottom:10,height:20}}),r.a.createElement("button",{style:{height:30},type:"submit"},"Login"),r.a.createElement(E,{action:"Login"})))}}]),t}(a.Component);y.a.defaults.withCredentials=!0;var C={email:"",password:""},O="https://guarded-sands-18679.herokuapp.com/api",k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state=C,n.handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),y.a.post("".concat(O,"/register"),n.state).then(function(e){return n.setState(C)}).then(function(){return n.props.history.push("/users")}).catch(function(e){return console.error(e)})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("form",{type:"submit",onSubmit:this.handleFormSubmit,style:{display:"flex",flexDirection:"column",width:"250px"}},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{name:"email",type:"text",placeholder:"Enter email",value:t,onChange:this.handleInputChange,style:{marginBottom:10,height:20}}),r.a.createElement("label",null,"Password: "),r.a.createElement("input",{name:"password",type:"password",placeholder:"Enter password",value:n,onChange:this.handleInputChange,style:{marginBottom:10,height:20}}),r.a.createElement("button",{style:{height:30},type:"submit"},"Submit"),r.a.createElement(E,{action:"Register"}))}}]),t}(a.Component);y.a.defaults.withCredentials=!0;var S="https://guarded-sands-18679.herokuapp.com/api",x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,users:[],loggedIn:!1,loading:!0},n.redirect=function(){setTimeout(function(){return n.props.history.push("/signin")},3e3)},n.handleButtonClick=function(e){e.preventDefault(),y.a.get("".concat(S,"/logout")).then(function(e){return n.setState({loggedIn:!1,users:[],user:null,loading:!0})}).then(function(){return n.props.history.push("/signin")}).catch(function(e){return console.error(e)})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat(S,"/users")).then(function(t){var n=t.data,a=n.users,r=n.user;e.setState({user:r,users:a,loggedIn:!0,loading:!1})}).catch(function(t){return e.setState({loggedIn:!1,loading:!1},function(){return console.error(t)})})}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.users,a=e.loggedIn,o=e.loading;return r.a.createElement("div",{className:"Users"},a&&!o?r.a.createElement("div",null,r.a.createElement("button",{style:{marginBottom:10},onClick:this.handleButtonClick},"Logout"),r.a.createElement("br",null),t&&r.a.createElement("img",{height:"100",src:t.photo,alt:"profile"}),r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{key:e.id},e.username)}))):r.a.createElement("div",null,o?r.a.createElement("h2",null,"Loading"):r.a.createElement("h2",null,"Route access is restricted. Redirecting to /signin route."),!o&&!a&&this.redirect()))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App",style:{marginLeft:"20px"}},r.a.createElement("header",null,r.a.createElement("nav",{style:{display:"flex",marginBottom:"20px"}},r.a.createElement(m.a,{style:{marginRight:"20px"},to:"/signup"},"Register"),r.a.createElement(m.a,{style:{marginRight:"20px"},to:"/signin"},"Sign In"),r.a.createElement(m.a,{style:{marginRight:"20px"},to:"/users"},"Users"))),r.a.createElement(p.a,{exact:!0,path:"/",component:d}),r.a.createElement(p.a,{path:"/signup",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(p.a,{path:"/signin",render:function(e){return r.a.createElement(j,e)}}),r.a.createElement(p.a,{path:"/users",render:function(e){return r.a.createElement(x,e)}}))}}]),t}(a.Component);Object(o.render)(r.a.createElement(l.a,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.6874d609.chunk.js.map